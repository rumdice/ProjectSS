@page "/upload"
@using Radzen
@using Radzen.Blazor
@using LogApp.Service
@using System.Threading.Tasks
@inject ImageService ImageService
@inject NavigationManager Navigation
@inject IJSRuntime JSRuntime

<PageTitle>Photo Gallery</PageTitle>

<h1>Upload Photo</h1>


<RadzenRow Gap="2rem" RowGap="2rem" class="rz-m-0 rz-m-md-12">
    <RadzenColumn Size="12" SizeMD="4">
        <RadzenCard Variant="Variant.Outlined">
            <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">Single File Upload</RadzenText>

            <!-- RadzenUpload 컴포넌트 -->
            <RadzenUpload 
                Url="upload/single" 
                Progress="@(args => OnProgress(args))" 
                Style="width: 100%;" 
                InputAttributes="@(new Dictionary<string, object>() { { "aria-label", "Select file" } })">
            </RadzenUpload>
        </RadzenCard>
    </RadzenColumn>
</RadzenRow>

<!-- 업로드 진행 상태 -->
<RadzenProgressBar Value="@progress" ShowValue="true" Max="100" Style="width: 100%;" />

@code {
    private int progress = 0;

    // 업로드 진행 상태
    private void OnProgress(UploadProgressArgs args)
    {
        progress = args.Progress;
    }
}